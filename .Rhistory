for(inum in 1:num_pts) {
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df
}
get.elevation <- function(X) {
# X: n by 2 matrix
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[1],Xrow[2],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:num_pts) {
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df
}
Colorado.xlim <- c(-109.054831,-102.056540)
Colorado.ylim <- c(36.996650,40.999198)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/myfilledcontour.R')
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[1],Xrow[2],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df
}
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[1],Xrow[2],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[1],Xrow[2],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[1],Xrow[2],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
browser()
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
elev_xml
X
elev_url
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
X <- X[,c(2,1)]
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[1],Xrow[2],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
browser()
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
get.elevation(40,-100)
get.elevation(c(40,-100))
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
X <- X[,c(2,1)]
browser()
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[1],Xrow[2],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
browser()
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
get.elevation(c(40,-100))
get.elevation(c(40,-100))
elev_url
apply(X,1,function(Xrow)paste(Xrow[1],Xrow[2],sep = ','))
X
class(X)
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
#X <- X[,c(2,1)]
browser()
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[2],Xrow[1],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
browser()
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
get.elevation(c(40,-100))
elev_url
elev_url
inum
get.elevation(c(40,-100))
elev_xml[[1]][[1]][[1+inum]]
elev_xml
elev_url
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
X <- X[,c(2,1)]
browser()
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[2],Xrow[1],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
browser()
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
get.elevation(c(40,-100))
get.elevation(c(40,-100))
X
length(X)
length(matrix(1:4,2))
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
X <- X[,c(2,1)]
browser()
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
if(length(X)>2) elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[2],Xrow[1],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
else {paste0(elev_url,X[2],',',X[1])}
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
browser()
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
get.elevation(c(40,-100))
paste0(elev_url,X[2],',',X[1])
elev_xml
elev_url
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
X <- X[,c(2,1)]
browser()
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
if(length(X)>2) elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[2],Xrow[1],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
else {elev_url <- paste0(elev_url,X[2],',',X[1])}
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(dim(X)[1])) {
browser()
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
get.elevation(c(40,-100))
elev_xml
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
X <- X[,c(2,1)]
browser()
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
if(length(X)>2) elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[2],Xrow[1],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
else {elev_url <- paste0(elev_url,X[2],',',X[1])}
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(length(X)/2)) {
browser()
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
get.elevation(c(40,-100))
lat
long
elev
resol
elev_df
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
my.filled.contour.func(get.elevation,n=5,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
my.filled.contour.func(get.elevation,n=5,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
elev_url
get.elevation <- function(X) {
# X: n by 2 matrix
X <- matrix(X,ncol=2)
#X <- X[,c(2,1)]
#browser()
# build elevation string
#elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations=39.7391536,-104.9847034|36.455556,-116.866667&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0"
#X <- matrix(c(39.7391536,-104.9847034,36.455556,-116.866667),ncol=2,byrow=T)
elev_url <- "https://maps.googleapis.com/maps/api/elevation/xml?locations="
if(length(X)>2) elev_url <- paste0(elev_url,paste(apply(X,1,function(Xrow)paste(Xrow[2],Xrow[1],sep = ',')),sep=',',collapse = '|'))#"39.7391536,-104.9847034|36.455556,-116.866667")
else {elev_url <- paste0(elev_url,X[2],',',X[1])}
elev_url <- paste0(elev_url,"&key=AIzaSyDpHsTEEAWJqE1MbWnMjwJI_Yo54CUviw0")
elev_html <- getURL(elev_url)
elev_xml <- xmlTreeParse(elev_html)
for(inum in 1:(length(X)/2)) {
#browser()
print(elev_xml)
browser()
lat <-  as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[1]][[1]])[6])
long <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[1]][[2]][[1]])[6])
elev <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[2]][[1]])[6])
resol <- as.numeric(as.character(elev_xml[[1]][[1]][[1+inum]][[3]][[1]])[6])
newelevdf <- data.frame(lat,long,elev,resol)
if(inum==1) elev_df <- newelevdf
else elev_df <- rbind(elev_df,newelevdf)
#newelevdf <- data.frame(lat,long,elev,resol)
}
elev_df$elev
}
my.filled.contour.func(get.elevation,n=5,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
my.filled.contour.func(get.elevation,n=5,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim)
get.elevation(matrix(c(40,-100,39,-100,38,-100),byrow=T,ncol=2))
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
get.elevation(matrix(c(40,-100,39,-100,38,-100),byrow=T,ncol=2))
X
elev_url
elev_xml
elev_url
X
get.elevation(matrix(c(-100,39,-100,38,-100,40),byrow=T,ncol=2))
elev_xml
get.elevation(matrix(c(-100,39,-100,38,-100,40),byrow=T,ncol=2))
elev_df
elev_df
matrix(ncol=2)
rbind(matrix(ncol=2),matrix(1:2,ncol=2))
tmat <- matrix(1:4,2,2)
tmat
tmat[1:2,1:2] <- 13
tmat
tmat
tmat[c(1,1,2),c(1,2,1)] <- -4
tmat
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/myfilledcontour.R')
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/myfilledcontour.R')
my.filled.contour.func(banana)
setwd("C:/Users/cbe117/School/DOE/SMED/SMED-Code")
source('TestFunctions.R')
my.filled.contour.func(banana)
my.filled.contour.func(banana,batchmax=5)
XYi
inbatch
XYi
matrix(x[XYi[,1]],y[XYi[,2]],ncol=2,byrow=F)
x[XYi[,1]]
matrix(c(x[XYi[,1]],y[XYi[,2]]),ncol=2,byrow=F)
head(y)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/myfilledcontour.R')
my.filled.contour.func(banana,batchmax=2)
XYi
fn(matrix(c(x[XYi[,1]],y[XYi[,2]]),ncol=2,byrow=F))
Z
z
my.filled.contour.func(banana,batchmax=2)
XYi
rowbatch
Zbatch[rowbatch]
x[XYi[rowbatch,1]]
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/myfilledcontour.R')
my.filled.contour.func(banana,batchmax=2)
z[XYi[rowbatch,1],XYi[rowbatch,2]]
c(XYi[rowbatch,1],XYi[rowbatch,2])
Zbatch[rowbatch]
rowbatch
head(z[1,])
summary(z)
my.filled.contour.func(banana,batchmax=2)
my.filled.contour.func(banana,batchmax=5)
my.filled.contour.func(banana,batchmax=70)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/myfilledcontour.R')
my.filled.contour.func(banana,batchmax=70)
my.filled.contour.func(banana,batchmax=1,n=10)
my.filled.contour.func(banana,batchmax=98,n=10)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/myfilledcontour.R')
my.filled.contour.func(banana,batchmax=98,n=1000)
my.filled.contour.func(banana,batchmax=98,n=1000)
my.filled.contour.func(banana,batchmax=9800,n=10)
my.filled.contour.func(get.elevation,n=5,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 512)
X
elev_xml
elev_df
elev_df
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
my.filled.contour.func(banana,batchmax=0,n=10)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
my.filled.contour.func(get.elevation,n=22,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 512)
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 512)
my.filled.contour.func(get.elevation,n=5,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 512)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 512)
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 512)
elev_url
elev_html
elev_url
tmat
tmat <- matrix(runif(4),2,2)
tmat
round(tmat,3)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 512)
elev_html
nchar(elev_html)
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 50)
elev_html
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 80)
elev_html
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 100)
elev_html
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 90)
elev_html
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 95)
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 93)
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 91)
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 92)
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 93)
elev_html
my.filled.contour.func(get.elevation,n=10,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 92)
elev_html
my.filled.contour.func(banana,batchmax=1000,n=100)
my.filled.contour.func(banana,batchmax=1000,n=400)
my.filled.contour.func(get.elevation,n=9,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 92)
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/Elevation_get.R')
source('C:/Users/cbe117/School/DOE/SMED/SMED-Code/myfilledcontour.R')
my.filled.contour.func(get.elevation,n=9,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 92)
my.filled.contour.func(get.elevation,n=40,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 92)
my.filled.contour.func(get.elevation,n=40,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 90)
40^2/90
my.filled.contour.func(get.elevation,n=100,xcontlim=Colorado.xlim,ycontlim=Colorado.ylim,batchmax = 90)
